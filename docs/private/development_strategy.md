# ToonForge 개발 전략 (개인용)

## 🎯 프로젝트 목표

### 핵심 어필 포인트
1. **엔진 확장 능력** - 언리얼 엔진 렌더링 파이프라인 이해 및 개선
2. **실시간 렌더링 최적화** - 성능과 품질의 균형, 실용적 최적화
3. **툴 개발 역량** - 아티스트 친화적 NPR 제작 도구

### 차별화 전략
- **기본기의 탄탄함**: CPU/GPU 아키텍처 이해, Graphics API 활용
- **성능 투명성**: 실시간 성능 분석, 최적화 전후 비교
- **실무 적용성**: 안정적이고 확장 가능한 코드, 팀 작업 고려

---

## 🏗️ 3주 개발 로드맵

### Week 1: 기반 구축 + 성능 분석
**목표: 동작하는 NPR 시스템 + 성능 모니터링**

#### 핵심 구현 사항
1. **플러그인 기본 구조**
   - UE5 플러그인 생성 및 모듈 구조
   - RHI 기본 활용 (텍스처, 버퍼 관리)

2. **기본 툰 셰이딩**
   - 포스트 프로세싱 기반 구현
   - 색상 양자화 및 실시간 파라미터 조정

3. **성능 모니터링 시스템**
   - GPU 타이밍 측정 (RHI 타이머 활용)
   - 메모리 사용량 추적
   - 드로우콜 카운팅 및 실시간 UI 표시

4. **실시간 제어 시스템**
   - 키보드 입력으로 즉시 파라미터 조정
   - 화면 UI로 현재 설정 및 성능 데이터 표시

### Week 2: 기능 확장 + 최적화
**목표: 다양한 NPR 효과 + 실용적 최적화**

#### 핵심 구현 사항
1. **아웃라인 렌더링 (다중 구현)**
   - 포스트 프로세싱 엣지 검출 방식
   - 지오메트리 확장 방식
   - 두 방식 성능 비교 및 분석

2. **배치 처리 최적화**
   - 인스턴싱 활용한 일괄 처리
   - 드로우콜 최적화
   - 렌더 타겟 메모리 풀링

3. **커스텀 에디터 패널**
   - NPR 전용 에디터 창
   - 실시간 프리뷰 연동
   - 슬라이더, 컬러 피커 등 UI 컨트롤

4. **프리셋 시스템**
   - NPR 설정 저장/로드 (JSON 기반)
   - 기본 프리셋 제공
   - 설정 공유 기능

### Week 3: 고급 기능 + 완성도
**목표: 포트폴리오 완성 + 실무 품질**

#### 핵심 구현 사항
1. **수채화 효과**
   - 노이즈 텍스처 기반 색상 변형
   - 색상 블리딩 효과
   - 종이 질감 오버레이

2. **자동 최적화 시스템**
   - 목표 FPS 설정 (30, 60, 120)
   - 성능에 따른 품질 자동 조정
   - LOD 시스템 연동

3. **코드 품질 및 안정성**
   - 에러 처리 및 메모리 누수 방지
   - 확장 가능한 아키텍처
   - 코드 문서화 및 주석

4. **데모 씬 구성**
   - 모든 NPR 효과를 보여주는 인터랙티브 데모
   - 성능 비교 시연
   - 사용법 가이드

---

## 🛠️ 기술적 구현 전략

### 아키텍처 설계 원칙
1. **모듈화**: 각 NPR 효과를 독립적 모듈로 구성
2. **확장성**: 새로운 효과 쉽게 추가 가능한 구조
3. **성능**: 실시간 렌더링을 위한 최적화 우선
4. **안정성**: 크래시 없는 견고한 코드

### 핵심 클래스 구조
```cpp
FToonForgeManager
├── FNPRRenderingPipeline    // 렌더링 파이프라인 관리
├── FNPREffectManager        // 효과별 관리
├── FNPRPresetManager        // 프리셋 시스템
└── FNPRPerformanceMonitor   // 성능 모니터링

INPREffect (인터페이스)
├── FToonShadingEffect
├── FOutlineEffect
├── FWatercolorEffect
└── [확장 가능한 구조]
```

### 성능 최적화 전략
1. **렌더 타겟 풀링**: 메모리 재사용으로 할당 비용 절약
2. **배치 처리**: 동일 효과 오브젝트 일괄 처리
3. **LOD 시스템**: 거리/성능에 따른 품질 조정
4. **셰이더 최적화**: 불필요한 계산 제거, 텍스처 접근 최적화

---

## 🎨 주요 기능 상세

### 1. 툰 셰이딩
- **색상 양자화**: 3-8단계 조정 가능
- **그림자 처리**: 커스텀 그림자 색상 및 강도
- **하이라이트**: 툰 스타일 스페큘러
- **림 라이팅**: 윤곽 강조 효과

### 2. 아웃라인 렌더링
- **엣지 검출**: 깊이/법선 기반 엣지 검출
- **지오메트리 확장**: 메시 확장 방식
- **성능 비교**: 두 방식의 비용 분석
- **커스터마이징**: 두께, 색상 조정

### 3. 수채화 효과
- **노이즈 변형**: 다중 스케일 노이즈 적용
- **색상 블리딩**: 주변 색상과 자연스러운 혼합
- **종이 질감**: 수채화 종이 텍스처 오버레이
- **채도 조정**: 수채화 특성 반영

### 4. 성능 모니터링
- **GPU 타이밍**: 각 NPR 효과별 GPU 시간 측정
- **메모리 사용량**: 렌더 타겟 메모리 추적
- **드로우콜 분석**: 렌더링 호출 최적화 분석
- **실시간 그래프**: 성능 데이터 시각화

---

## 📊 성공 지표

### 기술적 목표
- [ ] 60FPS 유지하면서 NPR 효과 적용
- [ ] 3가지 이상의 NPR 효과 구현
- [ ] 실시간 성능 모니터링 시스템
- [ ] 안정적인 에디터 툴

### 포트폴리오 목표
- [ ] 완성도 높은 데모 영상
- [ ] 상세한 기술 문서
- [ ] GitHub 공개용 코드 정리
- [ ] 실제 사용 가능한 수준의 툴

---

## 💡 확장 아이디어 (시간 여유 시)

### 추가 NPR 효과
- **셀 셰이딩**: 전통적인 애니메이션 스타일
- **스케치 효과**: 연필 드로잉 스타일
- **오일 페인팅**: 유화 질감 효과

### 고급 기능
- **배치 처리 툴**: 씬 전체 NPR 스타일 일괄 적용
- **프리셋 공유**: 커뮤니티 프리셋 시스템
- **실시간 협업**: 여러 아티스트 동시 작업

### 플랫폼 확장
- **모바일 최적화**: 모바일 GPU 특성 고려
- **VR 지원**: 몰입형 NPR 경험
- **클라우드 렌더링**: 고품질 NPR 클라우드 처리

---

*이 문서는 개발 과정에서 지속적으로 업데이트됩니다.*
